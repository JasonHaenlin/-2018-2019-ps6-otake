<div class="content">
  <h3>Demande de TÃ©moignages</h3>
  <form [formGroup]="emailForm" (ngSubmit)="sendNewtestimonial()">
    <div formArrayName="emails">

      <div *ngFor="let email of emails?.controls; let i = index" [formGroupName]="i">

        <button type="button" class="remove-btn btn-cst" (click)="removeAt(i)">-</button>
        <label for="email">
          <input type="text" [class.is-invalid]="email.invalid && (email.dirty || email.touched)"
            [class.is-valid]="email.valid && (email.dirty || email.touched)"
            [formControlName]="'email'">
        </label>

      </div>
      <button type="button" class="btn-cst" (click)="addEmailToForm()">+</button>
    </div>
    <button type="submit" [disabled]="emailForm.invalid" class="btn-cst">Soumettre</button>
  </form>
</div>
