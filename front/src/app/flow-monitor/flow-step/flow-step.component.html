<div class="step-box">
  <div class="trace-step">
    {{stage.label}}
    <div *ngFor="let d of stage.description">
      <label class="container">
        <input type="checkbox" [checked]="d.done"
          (change)="onChangeStep(d.id, $event.target.checked)">
        <span class="checkmark"></span>
      </label>
      <div class="text">

        <ng-container *ngIf="d?.outerLink || d?.innerLink; else noLink">
          <div (click)="updateCheckbox(d, true)">
            <a class="link" target="_blank" rel="noopener noreferrer" [href]="[d?.outerLink]"
              *ngIf="d?.outerLink">{{d.text}}</a>
            <a class="link" (click)="redirectRoute(d.innerLink, d?.fragement)"
              *ngIf="d?.innerLink">{{d.text}}</a>
          </div>
        </ng-container>
        <ng-template #noLink>
          <div (click)="updateCheckbox(d, false)">
            {{d.text}}
          </div>
        </ng-template>

      </div>
    </div>
  </div>
  <div class="trace-arrow">
    <div class="step" [class.done]="isDone">{{stage.id}}</div>
    <div class="arrow">
      <span class="fas fa-chevron-down"></span>
    </div>
  </div>
</div>
